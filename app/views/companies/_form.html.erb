<%= form_with(model: company, local: true) do |form| %>
  <% if company.errors.any? %>
    <div id="error_explanation">
          <h2><%= pluralize(company.errors.count, "error") %> prohibited this company from being saved:</h2>

         <ul>
         <% company.errors.full_messages.each do |message| %>
         <li><%= message %></li>
    <% end %>
      </ul>
    </div>
  <% end %>
 <table border="2px" bgcolor="#CDD6D5" width="20%" height="250px" align="center">
  <tr>
    <td>
  <div class="field">
    <%= form.label :Name %>
    <%= form.text_field :Name %>
  </div>

 
  <div class="field">
    <%= form.label :Countryid %>
    <%= form.select(:Country_id, Country.all.collect {|u| [u.country_name, u.id]}, :prompt => 'Select') %>
  </div>

  <div class="field">
    <%= form.label :Stateid %>
    <%= form.select(:State_id, State.all.collect {|u| [u.state_name, u.id]}, :prompt => 'Select') %>
  </div>

  <div class="field">
    <%= form.label :Cityid %>
    <%= form.select(:City_id, City.all.collect {|u| [u.city_name, u.id]}, :prompt => 'Select') %>
  </div>

  <div class="field">
    <%= form.label :Postcode %>
    <%= form.number_field :Postcode %>
  </div>

  <div class="field">
    <%= form.label :Startdate %>
    <%= form.datetime_select :Start_date %>
  </div>

  <div class="field">
    <%= form.label :Active %>
    <%= form.check_box :Active %>
  </div>
</td>
</tr>
</table>
</br>
  <div class="actions">
    <%= form.submit %>
  </div>

<% end %>





<table border="2px" align="center">
  <tr>
    <td>
  <form name="myform" id="myForm">
   <select id="countySel" size="1">
        <option value="" selected="selected">-- Select Country --</option>
   </select>
     <br>
     <br>
  
    <select id="stateSel" size="1">
        <option value="" selected="selected">-- Select State--</option>
    </select>
        <br>
        <br>    
    <select id="citySel" size="1">
        <option value="" selected="selected">-- Select City--</option>
    </select>
        <br>
        <br>
    <select id="zipSel" size="1">
        <option value="" selected="selected">-- Select Pin--</option>
    </select>
  </form>
          </td>
 </tr>
</table>
 <br>
 <script>
 var countryStateInfo = {
  "USA": {
    "California": {
      "Los Angeles": ["90001", "90002", "90003", "90004"],
      "San Diego": ["92093", "92101"]
    },
    "Texas": {
      "Dallas": ["75201", "75202"],
      "Austin": ["73301", "73344"]
    }
  },
  "India": {
    "Assam": {
      "Dispur": ["781005"],
      "Guwahati" : ["781030", "781030"]
    },
    "Gujarat": {
      "Vadodara" : ["390011", "390020"],
      "Surat" : ["395006", "395002"]
    }
  }
}


window.onload = function () {
  
  //Get html elements
  var countySel = document.getElementById("countySel");
  var stateSel = document.getElementById("stateSel"); 
  var citySel = document.getElementById("citySel");
  var zipSel = document.getElementById("zipSel");
  
  //Load countries
  for (var country in countryStateInfo) {
    countySel.options[countySel.options.length] = new Option(country, country);
  }
  
  //County Changed
  countySel.onchange = function () {
     
     stateSel.length = 1; // remove all options bar first
     citySel.length = 1; // remove all options bar first
     zipSel.length = 1; // remove all options bar first
     
     if (this.selectedIndex < 1)
       return; // done
     
     for (var state in countryStateInfo[this.value]) {
       stateSel.options[stateSel.options.length] = new Option(state, state);
     }
  }
  
  //State Changed
  stateSel.onchange = function () {    
     
     citySel.length = 1; // remove all options bar first
     zipSel.length = 1; // remove all options bar first
     
     if (this.selectedIndex < 1)
       return; // done
     
     for (var city in countryStateInfo[countySel.value][this.value]) {
       citySel.options[citySel.options.length] = new Option(city, city);
     }
  }
  
  //City Changed
  citySel.onchange = function () {
    zipSel.length = 1; // remove all options bar first
    
    if (this.selectedIndex < 1)
      return; // done
    
    var zips = countryStateInfo[countySel.value][stateSel.value][this.value];
    for (var i = 0; i < zips.length; i++) {
      zipSel.options[zipSel.options.length] = new Option(zips[i], zips[i]);
    }
  } 
}

  </script>